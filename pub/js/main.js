"use strict";var url="https://studenter.miun.se/~alku2200/writeable/webbutveckling3/moment5_webservice_vt23-alekuzel/courses.php",codeInput=document.getElementById("code"),nameInput=document.getElementById("name"),pogressionInput=document.getElementById("progression"),syllabusInput=document.getElementById("syllabus"),submitInput=document.getElementById("submit");function init(){getCourses()}function getCourses(){fetch(url).then((function(e){if(200==e.status)return e.json().then((function(e){return displayCourses(e)})).catch((function(e){return console.log(e)}))}))}function displayCourses(e){var t=document.getElementById("courseTable");t.innerHTML="",e.forEach((function(e){t.innerHTML+='<tr class="table"><td>'.concat(e.code,"</td> <td>").concat(e.name,"</td> <td>").concat(e.progression,'</td><td><a class="link"  href="').concat(e.syllabus,'" target="_blank">Syllabus</a></td><td><button id="').concat(e.id,'" class="delete"> Delete</button></td></tr>')}));for(var n=document.getElementsByClassName("delete"),u=0;u<n.length;u++)n[u].addEventListener("click",deleteCourse)}function deleteCourse(e){var t=e.target.id;fetch(url+"?id="+t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return getCourses()})).catch((function(e){return console.log(e)}))}function addCourse(e){e.preventDefault();var t=codeInput.value,n=nameInput.value,u=pogressionInput.value,o=syllabusInput.value,s=JSON.stringify({code:t,name:n,progression:u,syllabus:o});fetch(url,{method:"POST",headers:{"content-type":"application/json"},body:s}).then((function(e){return e.json()})).then((function(e){return clearForm()})).catch((function(e){return console.log(e)}))}function clearForm(){codeInput.value="",nameInput.value="",pogressionInput.value="",syllabusInput.value="",getCourses()}submitInput.addEventListener("click",addCourse),window.onload=init;